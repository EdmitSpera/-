# 数据库优化
### 优化目标的三个维度
- 提高并发量，高QPS TPS
- 提高查询性能，高响应速度
- 提高数据库可用性
### 调优的维度
- 表设计
  - 合适的数据结构
  - 中间路由表 聚簇索引减少读扩散
  - 分表 -> 冷热分离、水平分片
  - 反范式设计，冗余字段
- 查询优化
  - 索引
  - 索引下推，减少回表
- 库级优化
  - 主从读写分离
  - 库分片
- 服务器硬件优化
  - 集群部署，增加机器实例
  - 调整参数
    - `innodb_buffer_pool_size`批量刷写缓存池大小
    - `thread_cache_size`线程池缓存线程数大小